function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n(t)}function t(n,r){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},t(n,r)}function r(n,e,o){return r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}()?Reflect.construct.bind():function(n,r,e){var o=[null];o.push.apply(o,r);var u=new(Function.bind.apply(n,o));return e&&t(u,e.prototype),u},r.apply(null,arguments)}function e(o){var u="function"==typeof Map?new Map:void 0;return e=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==u){if(u.has(e))return u.get(e);u.set(e,o)}function o(){return r(e,arguments,n(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t(o,e)},e(o)}var o=/*#__PURE__*/function(n){var r,e;function o(t){var r;return r=n.call(this,t)||this,Object.setPrototypeOf(function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(r),o.prototype),r}return e=n,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,t(r,e),o}(/*#__PURE__*/e(Error));function u(n){var t={addNode:u,removeNode:function(n){return Object.keys(r).forEach(function(t){r[t].forEach(function(r){r===n&&p(t,r)})}),delete r[n],t},nodes:i,adjacent:c,addEdge:h,removeEdge:p,hasEdge:function(n,t){return c(n).includes(t)},setEdgeWeight:a,getEdgeWeight:s,indegree:function(n){var t=0;function e(r){r===n&&t++}return Object.keys(r).forEach(function(n){r[n].forEach(e)}),t},outdegree:function(n){return n in r?r[n].length:0},depthFirstSearch:l,hasCycle:function(){try{return l(void 0,!0,!0),!1}catch(n){if(n instanceof o)return!0;throw n}},lowestCommonAncestors:function(n,t){var r=[],e=[];return function n(o,u){return!!o[u]||(o[u]=!0,r.push(u),u==t?(e.push(u),!1):c(u).every(function(t){return n(o,t)}))}({},n)&&function n(t,o){t[o]||(t[o]=!0,r.indexOf(o)>=0?e.push(o):0==e.length&&c(o).forEach(function(r){n(t,r)}))}({},t),e},topologicalSort:function(n,t){return void 0===t&&(t=!0),l(n,t,!0).reverse()},shortestPath:function(n,t){var r={},e={},o={};return function(){(function(){if(i().forEach(function(n){r[n]=Infinity}),Infinity!==r[n])throw new Error("Source node is not in the graph");if(Infinity!==r[t])throw new Error("Destination node is not in the graph");r[n]=0})(),i().forEach(function(n){o[n]=!0});for(var u=function(){var n,t,u=(t=Infinity,Object.keys(o).forEach(function(e){r[e]<t&&(t=r[e],n=e)}),void 0===n?(o={},null):(delete o[n],n));if(null===u)return{v:void 0};c(u).forEach(function(n){!function(n,t){var o=s(n,t);r[t]>r[n]+o&&(r[t]=r[n]+o,e[t]=n)}(u,n)})};0!==Object.keys(o).length;){var f=u();if("object"==typeof f)return f.v}}(),function(){for(var r=[],o=0,u=t;e[u];)r.push(u),o+=s(e[u],u),u=e[u];if(u!==n)throw new Error("No path found");return r.push(u),r.reverse(),r.weight=o,r}()},serialize:function(){var n={nodes:i().map(function(n){return{id:n}}),links:[]};return n.nodes.forEach(function(t){var r=t.id;c(r).forEach(function(t){n.links.push({source:r,target:t,weight:s(r,t)})})}),n},deserialize:d},r={},e={};function u(n){return r[n]=c(n),t}function i(){var n={};return Object.keys(r).forEach(function(t){n[t]=!0,r[t].forEach(function(t){n[t]=!0})}),Object.keys(n)}function c(n){return r[n]||[]}function f(n,t){return n+"|"+t}function a(n,r,o){return e[f(n,r)]=o,t}function s(n,t){var r=e[f(n,t)];return void 0===r?1:r}function h(n,r,e){return u(n),u(r),c(n).push(r),void 0!==e&&a(n,r,e),t}function p(n,e){return r[n]&&(r[n]=c(n).filter(function(n){return n!==e})),t}function l(n,t,r){void 0===t&&(t=!0),void 0===r&&(r=!1),n||(n=i()),"boolean"!=typeof t&&(t=!0);var e={},u={},f=[];function a(n){if(u[n]&&r)throw new o("Cycle found");e[n]||(e[n]=!0,u[n]=!0,c(n).forEach(a),u[n]=!1,f.push(n))}return t?n.forEach(a):(n.forEach(function(n){e[n]=!0}),n.forEach(function(n){c(n).forEach(a)})),f}function d(n){return n.nodes.forEach(function(n){u(n.id)}),n.links.forEach(function(n){h(n.source,n.target,n.weight)}),t}return n&&d(n),t}export{o as CycleError,u as Graph,u as default};
//# sourceMappingURL=index.module.js.map
